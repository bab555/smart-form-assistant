# æ™ºèƒ½è¡¨å•åŠ©æ‰‹ - å‰ç«¯å¼€å‘å·¥ä½œæµ

## ğŸ“‹ é¡¹ç›®æ¦‚è§ˆ

æœ¬é¡¹ç›®æ˜¯ä¸€ä¸ªåŸºäº **React 18 + TypeScript + Vite** çš„ç°ä»£åŒ–å‰ç«¯åº”ç”¨ï¼Œå®ç°äº† AI é©±åŠ¨çš„å¤šæ¨¡æ€æ™ºèƒ½è¡¨å•å¡«å†™ç³»ç»Ÿã€‚

---

## ğŸ—ï¸ é¡¹ç›®ç»“æ„

```
frontend/
â”œâ”€â”€ public/                          # é™æ€èµ„æº
â”‚   â””â”€â”€ vite.svg
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ assets/                      # åª’ä½“èµ„æºï¼ˆå›¾ç‰‡/å›¾æ ‡ï¼‰
â”‚   â”œâ”€â”€ components/                  # React ç»„ä»¶åº“
â”‚   â”‚   â”œâ”€â”€ layout/                  # å¸ƒå±€ç»„ä»¶
â”‚   â”‚   â”‚   â””â”€â”€ MainLayout.tsx      # ä¸‰æ å¸ƒå±€å®¹å™¨ âœ…
â”‚   â”‚   â”œâ”€â”€ chat/                    # å·¦æ ï¼šèŠå¤©äº¤äº’ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ ChatPanel.tsx       # èŠå¤©é¢æ¿ä¸»ç»„ä»¶ âœ…
â”‚   â”‚   â”‚   â”œâ”€â”€ ChatStream.tsx      # æ¶ˆæ¯æµç»„ä»¶ âœ…
â”‚   â”‚   â”‚   â”œâ”€â”€ ChatBubble.tsx      # æ¶ˆæ¯æ°”æ³¡ âœ…
â”‚   â”‚   â”‚   â”œâ”€â”€ InputArea.tsx       # è¾“å…¥åŒºåŸŸ âœ…
â”‚   â”‚   â”‚   â”œâ”€â”€ VoiceInput.tsx      # è¯­éŸ³è¾“å…¥æ¨¡æ€æ¡† âœ…
â”‚   â”‚   â”‚   â””â”€â”€ FileUpload.tsx      # æ–‡ä»¶ä¸Šä¼ æ¨¡æ€æ¡† âœ…
â”‚   â”‚   â”œâ”€â”€ visualizer/              # ä¸­æ ï¼šæ€ç»´å¯è§†åŒ–ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ VisualizerPanel.tsx # å¯è§†åŒ–é¢æ¿ä¸»ç»„ä»¶ âœ…
â”‚   â”‚   â”‚   â”œâ”€â”€ CoreOrb.tsx         # å¾…æœºæ€æ ¸å¿ƒçƒåŠ¨ç”» âœ…
â”‚   â”‚   â”‚   â””â”€â”€ ProcessGraph.tsx    # React Flow æµç¨‹å›¾ âœ…
â”‚   â”‚   â””â”€â”€ grid/                    # å³æ ï¼šæ™ºèƒ½è¡¨æ ¼ç»„ä»¶
â”‚   â”‚       â”œâ”€â”€ GridPanel.tsx       # è¡¨æ ¼é¢æ¿ä¸»ç»„ä»¶ âœ…
â”‚   â”‚       â”œâ”€â”€ SmartTable.tsx      # AG Grid å°è£… âœ…
â”‚   â”‚       â””â”€â”€ AmbiguousCell.tsx   # æ­§ä¹‰å•å…ƒæ ¼ç»„ä»¶ âœ…
â”‚   â”œâ”€â”€ hooks/                       # è‡ªå®šä¹‰ Hooks
â”‚   â”‚   â”œâ”€â”€ useAgent.ts             # WebSocket Agent ç®¡ç† âœ…
â”‚   â”‚   â”œâ”€â”€ useFormStore.ts         # Zustand çŠ¶æ€ç®¡ç† âœ…
â”‚   â”‚   â”œâ”€â”€ useVoiceRecorder.ts     # è¯­éŸ³å½•åˆ¶ Hook âœ…
â”‚   â”‚   â””â”€â”€ useFileUpload.ts        # æ–‡ä»¶ä¸Šä¼  Hook âœ…
â”‚   â”œâ”€â”€ services/                    # API æœåŠ¡å±‚
â”‚   â”‚   â”œâ”€â”€ api.ts                  # Axios HTTP å®¢æˆ·ç«¯ âœ…
â”‚   â”‚   â”œâ”€â”€ websocket.ts            # WebSocket å®¢æˆ·ç«¯ âœ…
â”‚   â”‚   â””â”€â”€ transformers.ts         # æ•°æ®æ ¼å¼è½¬æ¢ âœ…
â”‚   â”œâ”€â”€ types/                       # TypeScript ç±»å‹å®šä¹‰
â”‚   â”‚   â”œâ”€â”€ index.ts                # ç±»å‹èšåˆå¯¼å‡º âœ…
â”‚   â”‚   â”œâ”€â”€ schema.d.ts             # æ•°æ®æ¨¡å‹å®šä¹‰ âœ…
â”‚   â”‚   â”œâ”€â”€ agent.d.ts              # Agent çŠ¶æ€å®šä¹‰ âœ…
â”‚   â”‚   â””â”€â”€ recordrtc.d.ts          # RecordRTC ç±»å‹å£°æ˜ âœ…
â”‚   â”œâ”€â”€ utils/                       # å·¥å…·å‡½æ•°
â”‚   â”‚   â”œâ”€â”€ constants.ts            # å…¨å±€å¸¸é‡ âœ…
â”‚   â”‚   â”œâ”€â”€ helpers.ts              # è¾…åŠ©å‡½æ•° âœ…
â”‚   â”‚   â””â”€â”€ __tests__/              # å•å…ƒæµ‹è¯•
â”‚   â”‚       â””â”€â”€ helpers.test.ts     # å·¥å…·å‡½æ•°æµ‹è¯• âœ…
â”‚   â”œâ”€â”€ styles/                      # å…¨å±€æ ·å¼
â”‚   â”‚   â””â”€â”€ globals.css             # Tailwind + è‡ªå®šä¹‰æ ·å¼ âœ…
â”‚   â”œâ”€â”€ test/                        # æµ‹è¯•é…ç½®
â”‚   â”‚   â””â”€â”€ setup.ts                # Vitest æµ‹è¯•ç¯å¢ƒ âœ…
â”‚   â”œâ”€â”€ App.tsx                      # æ ¹ç»„ä»¶ âœ…
â”‚   â”œâ”€â”€ main.tsx                     # åº”ç”¨å…¥å£ âœ…
â”‚   â””â”€â”€ vite-env.d.ts               # Vite ç±»å‹å£°æ˜ âœ…
â”œâ”€â”€ .eslintrc.cjs                    # ESLint é…ç½® âœ…
â”œâ”€â”€ .prettierrc                      # Prettier é…ç½® âœ…
â”œâ”€â”€ .gitignore                       # Git å¿½ç•¥æ–‡ä»¶ âœ…
â”œâ”€â”€ index.html                       # HTML æ¨¡æ¿ âœ…
â”œâ”€â”€ package.json                     # é¡¹ç›®ä¾èµ– âœ…
â”œâ”€â”€ tsconfig.json                    # TypeScript é…ç½® âœ…
â”œâ”€â”€ tsconfig.node.json               # Node ç¯å¢ƒ TS é…ç½® âœ…
â”œâ”€â”€ vite.config.ts                   # Vite é…ç½® âœ…
â”œâ”€â”€ tailwind.config.js               # TailwindCSS é…ç½® âœ…
â”œâ”€â”€ postcss.config.js                # PostCSS é…ç½® âœ…
â””â”€â”€ README.md                        # é¡¹ç›®è¯´æ˜ âœ…
```

---

## ğŸš€ å¼€å‘å·¥ä½œæµ

### **é˜¶æ®µ 1ï¼šç¯å¢ƒå‡†å¤‡**

#### 1.1 å®‰è£…ä¾èµ–
```bash
cd frontend
npm install
```

**å·²å®‰è£…çš„æ ¸å¿ƒä¾èµ–**ï¼š
- âœ… React 18.2.0
- âœ… TypeScript 5.3.3
- âœ… Vite 5.0.11
- âœ… Zustand 4.4.7ï¼ˆçŠ¶æ€ç®¡ç†ï¼‰
- âœ… AG Grid 31.0.3ï¼ˆæ•°æ®è¡¨æ ¼ï¼‰
- âœ… React Flow 11.10.4ï¼ˆæµç¨‹å›¾ï¼‰
- âœ… TanStack Query 5.17.19ï¼ˆæ•°æ®è·å–ï¼‰
- âœ… Axios 1.6.5ï¼ˆHTTP å®¢æˆ·ç«¯ï¼‰
- âœ… Framer Motion 10.18.0ï¼ˆåŠ¨ç”»ï¼‰
- âœ… Lucide React 0.307.0ï¼ˆå›¾æ ‡ï¼‰
- âœ… RecordRTC 5.6.2ï¼ˆéŸ³é¢‘å½•åˆ¶ï¼‰
- âœ… TailwindCSS 3.4.1ï¼ˆæ ·å¼ï¼‰
- âœ… Vitest 1.2.1ï¼ˆæµ‹è¯•ï¼‰
- âœ… @types/nodeï¼ˆNodeç±»å‹å®šä¹‰ï¼‰

#### 1.2 é…ç½®ç¯å¢ƒå˜é‡
åˆ›å»º `.env.local` æ–‡ä»¶ï¼ˆå·²æä¾›ç¤ºä¾‹ï¼‰ï¼š
```ini
VITE_API_BASE_URL=http://localhost:8000/api
VITE_WS_URL=ws://localhost:8000/ws
VITE_APP_NAME=æ™ºèƒ½è¡¨å•åŠ©æ‰‹
VITE_ENABLE_DEBUG=true
```

---

### **é˜¶æ®µ 2ï¼šå¼€å‘è°ƒè¯•**

#### 2.1 å¯åŠ¨å¼€å‘æœåŠ¡å™¨
```bash
npm run dev
```
- ğŸŒ è®¿é—®ï¼š`http://localhost:3000`
- ğŸ”„ æ”¯æŒçƒ­æ›´æ–°ï¼ˆHMRï¼‰
- ğŸ”§ è‡ªåŠ¨ä»£ç†åç«¯ APIï¼ˆé…ç½®åœ¨ vite.config.tsï¼‰

#### 2.2 ä»£ç è´¨é‡æ£€æŸ¥
```bash
# TypeScript ç±»å‹æ£€æŸ¥ï¼ˆâœ… å·²é€šè¿‡ï¼‰
npm run type-check

# ESLint ä»£ç æ£€æŸ¥
npm run lint

# ESLint è‡ªåŠ¨ä¿®å¤
npm run lint:fix

# Prettier æ ¼å¼åŒ–
npm run format
```

#### 2.3 è¿è¡Œæµ‹è¯•
```bash
# è¿è¡Œå•å…ƒæµ‹è¯•
npm run test

# æµ‹è¯• UI ç•Œé¢
npm run test:ui

# ç”Ÿæˆè¦†ç›–ç‡æŠ¥å‘Š
npm run test:coverage
```

---

### **é˜¶æ®µ 3ï¼šæ ¸å¿ƒåŠŸèƒ½å®ç°è·¯å¾„**

#### 3.1 æ•°æ®æµæ¶æ„
```
ç”¨æˆ·è¾“å…¥ â†’ API/WebSocket â†’ æ•°æ®è½¬æ¢ â†’ Zustand Store â†’ React ç»„ä»¶ â†’ UI æ›´æ–°
```

**å…³é”®æ–‡ä»¶**ï¼š
1. **`src/services/api.ts`** - HTTP è¯·æ±‚å°è£…
2. **`src/services/websocket.ts`** - WebSocket è¿æ¥ç®¡ç†
3. **`src/services/transformers.ts`** - snake_case â†” camelCase è½¬æ¢
4. **`src/hooks/useFormStore.ts`** - å…¨å±€çŠ¶æ€ç®¡ç†

#### 3.2 ç»„ä»¶å¼€å‘é¡ºåºï¼ˆæ¨èï¼‰

**ç¬¬ä¸€æ­¥ï¼šæ•°æ®å±‚ï¼ˆå·²å®Œæˆ âœ…ï¼‰**
- âœ… ç±»å‹å®šä¹‰ (`types/`)
- âœ… API æœåŠ¡ (`services/`)
- âœ… çŠ¶æ€ç®¡ç† (`hooks/useFormStore.ts`)

**ç¬¬äºŒæ­¥ï¼šå¸ƒå±€æ¡†æ¶ï¼ˆå·²å®Œæˆ âœ…ï¼‰**
- âœ… ä¸»å¸ƒå±€ (`components/layout/MainLayout.tsx`)
- âœ… ä¸‰ä¸ªé¢æ¿å®¹å™¨

**ç¬¬ä¸‰æ­¥ï¼šå³æ è¡¨æ ¼ï¼ˆæ ¸å¿ƒåŠŸèƒ½ï¼Œå·²å®Œæˆ âœ…ï¼‰**
- âœ… `SmartTable.tsx` - AG Grid é›†æˆ
- âœ… `AmbiguousCell.tsx` - æ­§ä¹‰å¤„ç†
- âœ… `GridPanel.tsx` - å·¥å…·æ 

**ç¬¬å››æ­¥ï¼šå·¦æ äº¤äº’ï¼ˆå·²å®Œæˆ âœ…ï¼‰**
- âœ… `ChatStream.tsx` - æ¶ˆæ¯æµ
- âœ… `VoiceInput.tsx` - è¯­éŸ³å½•åˆ¶
- âœ… `FileUpload.tsx` - å›¾ç‰‡ä¸Šä¼ 
- âœ… `InputArea.tsx` - è¾“å…¥æ§åˆ¶

**ç¬¬äº”æ­¥ï¼šä¸­æ å¯è§†åŒ–ï¼ˆå·²å®Œæˆ âœ…ï¼‰**
- âœ… `CoreOrb.tsx` - å¾…æœºåŠ¨ç”»
- âœ… `ProcessGraph.tsx` - React Flow æµç¨‹å›¾
- âœ… WebSocket æ¶ˆæ¯ç›‘å¬

---

### **é˜¶æ®µ 4ï¼šåŠŸèƒ½è°ƒè¯•ä¸è”è°ƒ**

#### 4.1 æœ¬åœ°è”è°ƒ
1. å¯åŠ¨åç«¯æœåŠ¡ï¼ˆç«¯å£ 8000ï¼‰
2. å¯åŠ¨å‰ç«¯æœåŠ¡ï¼ˆç«¯å£ 3000ï¼‰
3. Vite è‡ªåŠ¨ä»£ç† API è¯·æ±‚åˆ°åç«¯

#### 4.2 WebSocket è°ƒè¯•
**æµ‹è¯•è¿æ¥**ï¼š
```typescript
// åœ¨æµè§ˆå™¨æ§åˆ¶å°
const ws = new WebSocket('ws://localhost:8000/ws/agent')
ws.onmessage = (e) => console.log(JSON.parse(e.data))
```

#### 4.3 è°ƒè¯•å·¥å…·
- **React DevTools** - ç»„ä»¶æ ‘è°ƒè¯•
- **Redux DevTools** - Zustand çŠ¶æ€è°ƒè¯•ï¼ˆéœ€å®‰è£…æ’ä»¶ï¼‰
- **Network Tab** - API è¯·æ±‚ç›‘æ§
- **Console Errors** - é”™è¯¯è¿½è¸ª

---

### **é˜¶æ®µ 5ï¼šæ€§èƒ½ä¼˜åŒ–**

#### 5.1 ä»£ç åˆ†å‰²
```typescript
// ä½¿ç”¨ React.lazy æ‡’åŠ è½½ç»„ä»¶
const ProcessGraph = React.lazy(() => import('./ProcessGraph'))
```

#### 5.2 AG Grid ä¼˜åŒ–
- å¯ç”¨è™šæ‹Ÿæ»šåŠ¨ï¼ˆå¤§æ•°æ®é‡ï¼‰
- é™åˆ¶ `cellRenderer` å¤æ‚åº¦
- ä½¿ç”¨ `useMemo` ç¼“å­˜åˆ—å®šä¹‰

#### 5.3 WebSocket ä¼˜åŒ–
- æ¶ˆæ¯èŠ‚æµï¼ˆ`throttle`ï¼‰
- æ–­çº¿é‡è¿æœºåˆ¶ï¼ˆå·²å®ç°ï¼‰
- å¿ƒè·³ä¿æ´»ï¼ˆå·²å®ç°ï¼‰

---

### **é˜¶æ®µ 6ï¼šæ„å»ºä¸éƒ¨ç½²**

#### 6.1 ç”Ÿäº§æ„å»º
```bash
npm run build
```
- ğŸ“¦ è¾“å‡ºç›®å½•ï¼š`dist/`
- ğŸ—œï¸ è‡ªåŠ¨å‹ç¼©å’Œä¼˜åŒ–
- ğŸ” TypeScript ç±»å‹æ£€æŸ¥
- ğŸ“Š ç”Ÿæˆæ„å»ºåˆ†ææŠ¥å‘Š

#### 6.2 é¢„è§ˆæ„å»º
```bash
npm run preview
```
è®¿é—® `http://localhost:4173` æŸ¥çœ‹ç”Ÿäº§ç‰ˆæœ¬

#### 6.3 éƒ¨ç½²å»ºè®®
**é™æ€éƒ¨ç½²**ï¼ˆæ¨èï¼‰ï¼š
- Vercel / Netlifyï¼ˆè‡ªåŠ¨åŒ–éƒ¨ç½²ï¼‰
- Nginxï¼ˆä¼ ç»Ÿéƒ¨ç½²ï¼‰
- CDN åŠ é€Ÿ

**ç¯å¢ƒå˜é‡é…ç½®**ï¼š
```bash
# ç”Ÿäº§ç¯å¢ƒ
VITE_API_BASE_URL=https://api.yourproduction.com/api
VITE_WS_URL=wss://api.yourproduction.com/ws
VITE_ENABLE_DEBUG=false
```

---

## ğŸ¯ æ ¸å¿ƒåŠŸèƒ½å®ç°æŒ‡å—

### åŠŸèƒ½ 1ï¼šå›¾ç‰‡ä¸Šä¼ ä¸è¯†åˆ«

**æµç¨‹**ï¼š
1. ç”¨æˆ·ç‚¹å‡»ä¸Šä¼ æŒ‰é’® â†’ `FileUpload.tsx`
2. é€‰æ‹©å›¾ç‰‡æ–‡ä»¶ â†’ `useFileUpload` Hook éªŒè¯
3. ä¸Šä¼ åˆ°åç«¯ â†’ `api.recognizeImage()`
4. åç«¯è¿”å›è¯†åˆ«ç»“æœ â†’ è‡ªåŠ¨è½¬æ¢ä¸º `camelCase`
5. æ·»åŠ åˆ°è¡¨æ ¼ â†’ `useFormStore.addRow()`
6. AG Grid æ¸²æŸ“æ•°æ®

**å…³é”®ä»£ç **ï¼š
```typescript
// hooks/useFileUpload.ts
const uploadMutation = useMutation({
  mutationFn: (file: File) => api.recognizeImage(file),
  onSuccess: (response) => {
    response.data.rows.forEach((row) => addRow(row))
  },
})
```

---

### åŠŸèƒ½ 2ï¼šè¯­éŸ³è¾“å…¥ä¸è¯†åˆ«

**æµç¨‹**ï¼š
1. ç”¨æˆ·æŒ‰ä½éº¦å…‹é£ â†’ `VoiceInput.tsx`
2. RecordRTC å½•åˆ¶éŸ³é¢‘ â†’ `useVoiceRecorder` Hook
3. åœæ­¢å½•éŸ³ç”Ÿæˆ Blob â†’ `stopRecording()`
4. ä¸Šä¼ åˆ°åç«¯ â†’ `api.recognizeAudio()`
5. åç«¯æ‰§è¡Œå‘½ä»¤ â†’ WebSocket è¿”å›æ›´æ–°æŒ‡ä»¤
6. æ›´æ–°è¡¨æ ¼çŠ¶æ€

**å…³é”®ä»£ç **ï¼š
```typescript
// hooks/useVoiceRecorder.ts
const recorder = new RecordRTC(stream, {
  type: 'audio',
  mimeType: 'audio/wav',
  // ...
})
```

---

### åŠŸèƒ½ 3ï¼šæ­§ä¹‰å¤„ç†ï¼ˆäººæœºåä½œï¼‰

**æµç¨‹**ï¼š
1. åç«¯æ£€æµ‹åˆ°æ­§ä¹‰ â†’ WebSocket å‘é€ `tool_action: mark_ambiguous`
2. `useAgent` Hook æ¥æ”¶æ¶ˆæ¯ â†’ è°ƒç”¨ `setAmbiguous()`
3. å•å…ƒæ ¼å˜é»„ â†’ æ¸²æŸ“ `AmbiguousCell` ç»„ä»¶
4. ç”¨æˆ·ç‚¹å‡»é€‰æ‹© â†’ å¼¹å‡ºå€™é€‰ä¸‹æ‹‰æ¡†
5. é€‰æ‹©æ­£ç¡®å€¼ â†’ `resolveAmbiguity()` æ›´æ–°çŠ¶æ€
6. å•å…ƒæ ¼æ¢å¤æ­£å¸¸ + ç½®ä¿¡åº¦è®¾ä¸º 1.0

**å…³é”®ä»£ç **ï¼š
```typescript
// hooks/useFormStore.ts
resolveAmbiguity: (rowIndex, key, selectedValue) => {
  // æ›´æ–°å•å…ƒæ ¼å€¼ï¼Œæ¸…é™¤æ­§ä¹‰æ ‡è®°
  newRows[rowIndex][cellIndex] = {
    ...cell,
    value: selectedValue,
    isAmbiguous: false,
    confidence: 1.0,
  }
}
```

---

### åŠŸèƒ½ 4ï¼šå®æ—¶å¯è§†åŒ–

**æµç¨‹**ï¼š
1. WebSocket æ¥æ”¶ `step_start` æ¶ˆæ¯ â†’ æ›´æ–° `currentStep`
2. `ProcessGraph` ç›‘å¬çŠ¶æ€å˜åŒ– â†’ é«˜äº®å¯¹åº”èŠ‚ç‚¹
3. èŠ‚ç‚¹åŠ¨ç”» + è¿çº¿åŠ¨ç”» â†’ Framer Motion / React Flow
4. æ˜¾ç¤ºå®æ—¶æ—¥å¿— â†’ åº•éƒ¨æ—¥å¿—åŒºåŸŸ

**å…³é”®ä»£ç **ï¼š
```typescript
// components/visualizer/ProcessGraph.tsx
useEffect(() => {
  setNodes((nds) =>
    nds.map((node) => {
      if (currentStep === 'ocr' && node.id === '1') {
        return { ...node, className: 'animate-pulse' }
      }
      return node
    })
  )
}, [currentStep])
```

---

## ğŸ“ å‘½åä¸ç¼–ç è§„èŒƒ

### å‘½åçº¦å®š
- **æ–‡ä»¶å**ï¼š
  - ç»„ä»¶ï¼š`PascalCase.tsx` (e.g., `SmartTable.tsx`)
  - å·¥å…·å‡½æ•°ï¼š`camelCase.ts` (e.g., `helpers.ts`)
  - ç±»å‹å®šä¹‰ï¼š`camelCase.d.ts` (e.g., `schema.d.ts`)

- **å˜é‡å‘½å**ï¼š
  - å‰ç«¯ï¼š`camelCase` (e.g., `productName`)
  - åç«¯ï¼š`snake_case` (e.g., `product_name`)
  - å¸¸é‡ï¼š`UPPER_SNAKE_CASE` (e.g., `API_BASE_URL`)

- **API è·¯å¾„**ï¼š`kebab-case` (e.g., `/api/smart-form/submit`)

### ä»£ç é£æ ¼
- ä½¿ç”¨ ESLint + Prettier è‡ªåŠ¨æ ¼å¼åŒ–
- å•å¼•å·å­—ç¬¦ä¸²
- æ— åˆ†å·ï¼ˆPrettier é…ç½®ï¼‰
- 2 ç©ºæ ¼ç¼©è¿›
- æ¯è¡Œæœ€å¤§ 100 å­—ç¬¦

---

## ğŸ§ª æµ‹è¯•ç­–ç•¥

### å•å…ƒæµ‹è¯•ï¼ˆVitestï¼‰
æµ‹è¯•å·¥å…·å‡½æ•°å’Œ Hooksï¼š
```typescript
// utils/__tests__/helpers.test.ts
describe('formatFileSize', () => {
  it('should format bytes correctly', () => {
    expect(formatFileSize(1024)).toBe('1 KB')
  })
})
```

### ç»„ä»¶æµ‹è¯•ï¼ˆReact Testing Libraryï¼‰
```typescript
import { render, screen } from '@testing-library/react'
import ChatBubble from '../ChatBubble'

test('renders user message', () => {
  render(<ChatBubble message={mockMessage} />)
  expect(screen.getByText('Hello')).toBeInTheDocument()
})
```

### é›†æˆæµ‹è¯•ï¼ˆE2Eï¼‰
æ¨èä½¿ç”¨ **Playwright** æˆ– **Cypress**ï¼ˆæœªé…ç½®ï¼Œå¯æ ¹æ®éœ€è¦æ·»åŠ ï¼‰

---

## ğŸ”§ å¸¸è§é—®é¢˜æ’æŸ¥

### é—®é¢˜ 1ï¼šTypeScript ç±»å‹é”™è¯¯
**è§£å†³æ–¹æ¡ˆ**ï¼š
```bash
npm run type-check
```
- æ£€æŸ¥ `tsconfig.json` çš„ `paths` é…ç½®
- ç¡®ä¿å¯¼å…¥è·¯å¾„ä½¿ç”¨åˆ«åï¼ˆå¦‚ `@types`ã€`@hooks`ï¼‰

### é—®é¢˜ 2ï¼šWebSocket è¿æ¥å¤±è´¥
**æ’æŸ¥æ­¥éª¤**ï¼š
1. æ£€æŸ¥åç«¯ WebSocket æœåŠ¡æ˜¯å¦å¯åŠ¨
2. æŸ¥çœ‹æµè§ˆå™¨æ§åˆ¶å°é”™è¯¯
3. éªŒè¯ `.env.local` ä¸­çš„ `VITE_WS_URL`
4. æ£€æŸ¥ `services/websocket.ts` çš„é‡è¿é€»è¾‘

### é—®é¢˜ 3ï¼šAG Grid è¡¨æ ¼ä¸æ˜¾ç¤º
**å¯èƒ½åŸå› **ï¼š
- æ•°æ®æ ¼å¼ä¸åŒ¹é…ï¼ˆæ£€æŸ¥ `FormRow` ç±»å‹ï¼‰
- ç¼ºå°‘ AG Grid CSSï¼ˆå·²åœ¨ `SmartTable.tsx` ä¸­å¯¼å…¥ï¼‰
- åˆ—å®šä¹‰é”™è¯¯ï¼ˆæ£€æŸ¥ `columnDefs`ï¼‰

### é—®é¢˜ 4ï¼šæ ·å¼ä¸ç”Ÿæ•ˆ
**æ£€æŸ¥æ¸…å•**ï¼š
- âœ… TailwindCSS é…ç½® (`tailwind.config.js`)
- âœ… å…¨å±€æ ·å¼å¯¼å…¥ (`main.tsx` ä¸­å¯¼å…¥ `globals.css`)
- âœ… PostCSS é…ç½® (`postcss.config.js`)
- âœ… è‡ªå®šä¹‰ç±»åæ˜¯å¦åœ¨ `content` æ‰«æèŒƒå›´å†…

---

## ğŸ“š å‚è€ƒæ–‡æ¡£é“¾æ¥

- **è®¾è®¡è§„èŒƒ**ï¼š`02_ui_ux_design.md`
- **å·¥ç¨‹æ–‡æ¡£**ï¼š`03_frontend_spec.md`
- **æ•°æ®æ ‡å‡†**ï¼š`01_project_master_control.md`
- **é¡¹ç›®è¯´æ˜**ï¼š`README.md`

---

## ğŸ‰ é¡¹ç›®çŠ¶æ€æ€»ç»“

### âœ… å·²å®Œæˆ
- [x] é¡¹ç›®åˆå§‹åŒ–ä¸è„šæ‰‹æ¶æ­å»º
- [x] å®Œæ•´ç›®å½•ç»“æ„åˆ›å»º
- [x] æ‰€æœ‰æ ¸å¿ƒç»„ä»¶å®ç°
- [x] çŠ¶æ€ç®¡ç†ä¸ Hooks
- [x] API æœåŠ¡å±‚å°è£…
- [x] WebSocket å®æ—¶é€šä¿¡
- [x] TypeScript ç±»å‹å®šä¹‰
- [x] ESLint + Prettier é…ç½®
- [x] Vitest å•å…ƒæµ‹è¯•æ¡†æ¶
- [x] TailwindCSS æ ·å¼é…ç½®
- [x] ä¾èµ–å®‰è£…å®Œæˆ
- [x] TypeScript ç±»å‹æ£€æŸ¥é€šè¿‡

### ğŸš§ å¾…å¼€å‘åŠŸèƒ½ï¼ˆå¯é€‰æ‰©å±•ï¼‰
- [ ] è¡¨å•æ¨¡æ¿åŠ¨æ€åŠ è½½
- [ ] å†å²è®°å½•ç®¡ç†
- [ ] ç¦»çº¿ç¼“å­˜ï¼ˆPWAï¼‰
- [ ] å¤šè¯­è¨€å›½é™…åŒ–ï¼ˆi18nï¼‰
- [ ] æš—é»‘æ¨¡å¼
- [ ] ç§»åŠ¨ç«¯å“åº”å¼é€‚é…
- [ ] E2E æµ‹è¯•ï¼ˆPlaywright/Cypressï¼‰
- [ ] æ€§èƒ½ç›‘æ§ï¼ˆSentry/LogRocketï¼‰

---

## ğŸ‘¥ å›¢é˜Ÿåä½œå»ºè®®

### Git å·¥ä½œæµ
```bash
# åˆ›å»ºåŠŸèƒ½åˆ†æ”¯
git checkout -b feature/table-export

# æäº¤ä»£ç 
git add .
git commit -m "feat: æ·»åŠ è¡¨æ ¼å¯¼å‡ºåŠŸèƒ½"

# åˆå¹¶åˆ°ä¸»åˆ†æ”¯
git checkout main
git merge feature/table-export
```

### æäº¤è§„èŒƒ
- `feat`: æ–°åŠŸèƒ½
- `fix`: ä¿®å¤ Bug
- `docs`: æ–‡æ¡£æ›´æ–°
- `style`: ä»£ç æ ¼å¼è°ƒæ•´
- `refactor`: ä»£ç é‡æ„
- `test`: æµ‹è¯•ç›¸å…³
- `chore`: æ„å»º/å·¥å…·é“¾æ›´æ–°

---

## ğŸš€ å¿«é€Ÿå¯åŠ¨å‘½ä»¤

```bash
# å®‰è£…ä¾èµ–
npm install

# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm run dev

# ç±»å‹æ£€æŸ¥
npm run type-check

# ä»£ç æ£€æŸ¥ä¸æ ¼å¼åŒ–
npm run lint:fix && npm run format

# è¿è¡Œæµ‹è¯•
npm run test

# æ„å»ºç”Ÿäº§ç‰ˆæœ¬
npm run build

# é¢„è§ˆç”Ÿäº§ç‰ˆæœ¬
npm run preview
```

---

**ç¥æ‚¨å¼€å‘é¡ºåˆ©ï¼ğŸ‰**

å¦‚æœ‰é—®é¢˜ï¼Œè¯·æŸ¥çœ‹ README.md æˆ–å‚è€ƒæ–‡æ¡£ã€‚

